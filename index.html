<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>ã†ã‚“ã¡ã‚¯ãƒªãƒƒã‚«ãƒ¼ </title>
<style>
body { text-align:center; background-color:#f9f3db; font-family:Arial,sans-serif; margin:0; padding:0; position:relative; }
button { padding:10px 20px; margin:5px; font-size:16px; cursor:pointer; }
img { margin-top:20px; width:200px; cursor:pointer; }
h1 { color:#d2691e; }
.shop { margin-top:20px; }
#menu, #game { margin-top:50px; }
#hamburger { position:absolute; top:10px; right:10px; cursor:pointer; font-size:30px; z-index:100; }
#resetConfirm { display:none; margin-top:20px; border:1px solid #ccc; padding:10px; background:#fff; }
@keyframes rainbow { 0%{color:red;}16%{color:orange;}33%{color:yellow;}50%{color:green;}66%{color:blue;}83%{color:indigo;}100%{color:violet;} }
#betaNameInput { font-weight:bold; animation:rainbow 3s infinite; }
#adminButton { display:none; position:absolute; top:10px; left:10px; }
#adminConsole { display:none; position:absolute; top:50px; left:10px; background:#fff; border:1px solid #ccc; padding:10px; width:250px; text-align:left; font-size:14px; }
</style>
</head>
<body>

<!-- ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
<div id="menu">
  <h1>ğŸª ã‚¯ãƒƒã‚­ãƒ¼ã‚¯ãƒªãƒƒã‚«ãƒ¼ã¸ã‚ˆã†ã“ãï¼</h1>
  <p>ã‚¯ãƒƒã‚­ãƒ¼ã®åå‰ã‚’ã¤ã‘ã¦ã€ã‚²ãƒ¼ãƒ ã‚’é–‹å§‹ã—ã‚ˆã†ï¼</p>
  <input type="text" id="cookieNameInput" placeholder="ã‚¯ãƒƒã‚­ãƒ¼ã®åå‰" maxlength="20">
  <br><br>
  <button onclick="startGame()">ã‚²ãƒ¼ãƒ é–‹å§‹</button><br><br>
  <button onclick="showResetConfirm()">ã‚²ãƒ¼ãƒ ãƒªã‚»ãƒƒãƒˆ</button>
  <div id="resetConfirm">
    <p>æœ¬å½“ã«ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã‹ï¼Ÿ</p>
    <button onclick="resetGame()">ã¯ã„</button>
    <button onclick="hideResetConfirm()">ã„ã„ãˆ</button>
  </div>
</div>

<!-- ã‚²ãƒ¼ãƒ ç”»é¢ -->
<div id="game" style="display:none;">
  <div id="hamburger" onclick="showMenu()">â˜°</div>
  <button id="adminButton" onclick="toggleAdminConsole()">ç®¡ç†è€…ã‚³ãƒãƒ³ãƒ‰</button>

  <h1>é€²åŒ–ç‰ˆã‚¯ãƒƒã‚­ãƒ¼ã‚¯ãƒªãƒƒã‚«ãƒ¼</h1>
  <p>è‡ªåˆ†ã®ã‚¯ãƒƒã‚­ãƒ¼ï¼š<input type="text" id="cookieNameDisplayInput" value="" maxlength="20" oninput="changeName()"></p>
  <p>ã‚¯ãƒƒã‚­ãƒ¼æ•°ï¼š<span id="cookies">0</span></p>
  <p>1ã‚¯ãƒªãƒƒã‚¯ã§å¢—ãˆã‚‹ã‚¯ãƒƒã‚­ãƒ¼ï¼š<span id="cookiesPerClick">1</span></p>
  <img src="cookie.png" onclick="clickCookie()">

  <div class="shop">
    <h2>ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ãƒ»ã‚·ãƒ§ãƒƒãƒ—</h2>
    <p>ã‚¯ãƒªãƒƒã‚¯å¼·åŒ–ï¼ˆ<span id="clickUpgradeCost">20</span>ã‚¯ãƒƒã‚­ãƒ¼ï¼‰</p>
    <button onclick="upgradeClick()">ã‚¯ãƒªãƒƒã‚¯å¼·åŒ–</button>
    <p>è‡ªå‹•è£…ç½®1ï¼ˆ<span id="autoClickersCost0">10</span>ã‚¯ãƒƒã‚­ãƒ¼ï¼‰</p>
    <button onclick="buyAutoClicker(0)">è³¼å…¥</button>
    <p>è‡ªå‹•è£…ç½®2ï¼ˆ<span id="autoClickersCost1">50</span>ã‚¯ãƒƒã‚­ãƒ¼ï¼‰</p>
    <button onclick="buyAutoClicker(1)">è³¼å…¥</button>
  </div>
  <p>è‡ªå‹•è£…ç½®1ï¼š<span id="autoClickers0">0</span></p>
  <p>è‡ªå‹•è£…ç½®2ï¼š<span id="autoClickers1">0</span></p>

  <!-- ç®¡ç†è€…ã‚³ãƒãƒ³ãƒ‰ã‚³ãƒ³ã‚½ãƒ¼ãƒ« -->
  <div id="adminConsole">
    <input type="text" id="adminInput" placeholder="ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›" style="width:200px;">
    <button onclick="runAdminCommand()">å®Ÿè¡Œ</button>
    <p id="adminOutput" style="color:green;"></p>
    <hr>
    <strong>ä½¿ãˆã‚‹ã‚³ãƒãƒ³ãƒ‰:</strong>
    <ul>
      <li><code>add cookies 1000</code> - ã‚¯ãƒƒã‚­ãƒ¼ã‚’ä»»æ„ã®æ•°ã ã‘è¿½åŠ </li>
      <li><code>add automatic equipment 10</code> - è‡ªå‹•è£…ç½®ã‚’ä»»æ„ã®æ•°ã ã‘è¿½åŠ </li>
      <li><code>reset cookies</code> - ã‚¯ãƒƒã‚­ãƒ¼ã‚’0ã«ãƒªã‚»ãƒƒãƒˆ</li>
    </ul>
    <strong>ä½¿ç”¨ä¾‹:</strong>
    <ul>
      <li><code>add cookies 500</code> â†’ ã‚¯ãƒƒã‚­ãƒ¼500å€‹è¿½åŠ </li>
      <li><code>add automatic equipment 20</code> â†’ è‡ªå‹•è£…ç½®åˆè¨ˆ20å€‹è¿½åŠ </li>
      <li><code>reset cookies</code> â†’ ã‚¯ãƒƒã‚­ãƒ¼0ã«</li>
    </ul>
  </div>
</div>

<script>
let cookies = Number(localStorage.getItem("cookies")||0);
let cookiesPerClick = Number(localStorage.getItem("cookiesPerClick")||1);
let autoClickers=[Number(localStorage.getItem("autoClickers0")||0), Number(localStorage.getItem("autoClickers1")||0)];
let clickUpgradeCost = Number(localStorage.getItem("clickUpgradeCost")||20);
let autoClickerCost=[Number(localStorage.getItem("autoClickersCost0")||10), Number(localStorage.getItem("autoClickersCost1")||50)];
let autoClickerPower=[1,5];
let cookieName = localStorage.getItem("cookieName")||"";

function startGame(){
  const nameInput = document.getElementById("cookieNameInput").value.trim();
  if(nameInput!=="") cookieName=nameInput;
  else if(!cookieName) cookieName="ãƒã‚¤ãƒ»ã‚¯ãƒƒã‚­ãƒ¼";

  document.getElementById("menu").style.display="none";
  document.getElementById("game").style.display="block";
  document.getElementById("cookieNameDisplayInput").value=cookieName;

  applyBetaFeatures();
  updateDisplay();
}

function showMenu(){
  document.getElementById("game").style.display="none";
  document.getElementById("menu").style.display="block";
  document.getElementById("cookieNameInput").value=cookieName;
}

function showResetConfirm(){document.getElementById("resetConfirm").style.display="block";}
function hideResetConfirm(){document.getElementById("resetConfirm").style.display="none";}
function resetGame(){
  localStorage.clear();
  cookies=0; cookiesPerClick=1; autoClickers=[0,0]; clickUpgradeCost=20; autoClickerCost=[10,50]; cookieName="";
  hideResetConfirm(); document.getElementById("cookieNameInput").value="";
  alert("ã‚²ãƒ¼ãƒ ãŒãƒªã‚»ãƒƒãƒˆã•ã‚Œã¾ã—ãŸï¼");
  applyBetaFeatures();
  updateDisplay();
}

function updateDisplay(){
  document.getElementById("cookies").textContent=cookies;
  document.getElementById("cookiesPerClick").textContent=cookiesPerClick;
  document.getElementById("autoClickers0").textContent=autoClickers[0];
  document.getElementById("autoClickers1").textContent=autoClickers[1];
  document.getElementById("clickUpgradeCost").textContent=clickUpgradeCost;
  document.getElementById("autoClickersCost0").textContent=autoClickerCost[0];
  document.getElementById("autoClickersCost1").textContent=autoClickerCost[1];
}

function clickCookie(){ cookies+=cookiesPerClick; updateDisplay(); saveGame(); }
function upgradeClick(){
  if(cookies>=clickUpgradeCost){ cookies-=clickUpgradeCost; cookiesPerClick+=1; clickUpgradeCost=Math.floor(clickUpgradeCost*1.2); updateDisplay(); saveGame(); }
  else alert("ã‚¯ãƒƒã‚­ãƒ¼ãŒè¶³ã‚Šã¾ã›ã‚“ï¼");
}
function buyAutoClicker(i){
  if(cookies>=autoClickerCost[i]){ cookies-=autoClickerCost[i]; autoClickers[i]+=1; autoClickerCost[i]=Math.floor(autoClickerCost[i]*1.2); updateDisplay(); saveGame(); }
  else alert("ã‚¯ãƒƒã‚­ãƒ¼ãŒè¶³ã‚Šã¾ã›ã‚“ï¼");
}
function saveGame(){
  localStorage.setItem("cookies",cookies);
  localStorage.setItem("cookiesPerClick",cookiesPerClick);
  localStorage.setItem("clickUpgradeCost",clickUpgradeCost);
  localStorage.setItem("autoClickers0",autoClickers[0]);
  localStorage.setItem("autoClickers1",autoClickers[1]);
  localStorage.setItem("autoClickersCost0",autoClickerCost[0]);
  localStorage.setItem("autoClickersCost1",autoClickerCost[1]);
  localStorage.setItem("cookieName",cookieName);
}

// Betaç‰¹å…¸
function applyBetaFeatures(){
  if(cookieName==="I am a beta tester"){
    document.body.style.backgroundColor="gold";
    if(document.getElementById("cookieNameDisplayInput").id!=="betaNameInput")
      document.getElementById("cookieNameDisplayInput").id="betaNameInput";
    document.getElementById("betaNameInput").value=cookieName;
    document.getElementById("adminButton").style.display="block";
  } else {
    document.body.style.backgroundColor="#f9f3db";
    if(document.getElementById("betaNameInput")) document.getElementById("betaNameInput").id="cookieNameDisplayInput";
    document.getElementById("cookieNameDisplayInput").value=cookieName;
    document.getElementById("adminButton").style.display="none";
  }
}

// åå‰å¤‰æ›´
function changeName(){
  const newName=document.getElementById("cookieNameDisplayInput").value.trim();
  cookieName=newName||"ãƒã‚¤ãƒ»ã‚¯ãƒƒã‚­ãƒ¼";
  localStorage.setItem("cookieName",cookieName);
  applyBetaFeatures();
}

// ç®¡ç†è€…ã‚³ãƒãƒ³ãƒ‰
function toggleAdminConsole(){
  const consoleDiv=document.getElementById("adminConsole");
  consoleDiv.style.display = consoleDiv.style.display==="none"?"block":"none";
}
function runAdminCommand(){
  const input = document.getElementById("adminInput").value.trim();
  const output = document.getElementById("adminOutput");
  if(input===""){ output.textContent="ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚"; return; }
  const parts = input.split(" ");

  // add cookies æ•°å­—
  if(parts[0].toLowerCase()==="add" && parts[1].toLowerCase()==="cookies"){
    const num = parseInt(parts[2]);
    if(!isNaN(num) && num>0){ cookies += num; output.textContent=`ã‚¯ãƒƒã‚­ãƒ¼ã‚’${num}è¿½åŠ ã—ã¾ã—ãŸï¼`; }
    else output.textContent="æ­£ã—ã„æ•°å€¤ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚ä¾‹: add cookies 1000";
  }
  // add automatic equipment æ•°å­—
  else if(parts[0].toLowerCase()==="add" && parts[1].toLowerCase()==="automatic" && parts[2].toLowerCase()==="equipment"){
    const num = parseInt(parts[3]);
    if(!isNaN(num) && num>0){
      const half = Math.floor(num/2);
      autoClickers[0]+=half;
      autoClickers[1]+=(num-half);
      output.textContent=`è‡ªå‹•è£…ç½®ã‚’åˆè¨ˆ${num}å€‹è¿½åŠ ã—ã¾ã—ãŸï¼`;
    } else output.textContent="æ­£ã—ã„æ•°å€¤ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚ä¾‹: add automatic equipment 10";
  }
  // reset cookies
  else if(parts[0].toLowerCase()==="reset" && parts[1].toLowerCase()==="cookies"){
    cookies=0; output.textContent="ã‚¯ãƒƒã‚­ãƒ¼ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã—ãŸã€‚";
  }
  else output.textContent="ä¸æ˜ãªã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚";

  updateDisplay(); saveGame();
}

// è‡ªå‹•ã‚¯ãƒƒã‚­ãƒ¼å¢—åŠ 
setInterval(()=>{ for(let i=0;i<autoClickers.length;i++) cookies+=autoClickers[i]*autoClickerPower[i]; updateDisplay(); saveGame(); },1000);
</script>

</body>
</html>
